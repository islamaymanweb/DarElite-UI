<div class="minimal-product-details">
  <!-- Loading State -->
  @if (isLoading()) {
  <div class="loading-state">
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p>Loading masterpiece details...</p>
    </div>
  </div>
  }

  <!-- Error State -->
  @if (error() && !isLoading()) {
  <div class="error-state">
    <div class="error-content">
      <i class="fas fa-chair"></i>
      <h3>Piece Unavailable</h3>
      <p>{{ error() }}</p>
      <button class="elegant-btn" (click)="router.navigate(['/shop'])">
        Return to Collection
      </button>
    </div>
  </div>
  }

  <!-- Product Content -->
  @if (product() && !isLoading()) {
  <div class="product-container">
    <div class="product-layout">
      <!-- Hero Image Gallery -->
      <section class="gallery-section">
        <div class="main-gallery">
          <!-- Image Zoom Component -->
          <div class="main-image-container">
            <app-image-zoom
              [thumbImage]="getMainImage()"
              [fullImage]="getMainImage()"
              [magnification]="2"
              [enableScrollZoom]="true"
              [lensWidth]="150"
              [lensHeight]="150"
              [enableLens]="true"
              class="zoom-component"
            ></app-image-zoom>

            <!-- Discount Badge -->
            @if (hasDiscount()) {
            <div class="elegant-badge">-{{ calculateDiscount() }}%</div>
            }
          </div>

          <!-- Thumbnail Strip -->
          @if (hasMultipleImages()) {
          <div class="thumbnail-strip">
            @for (photo of product()?.photos; track $index; let i = $index) {
            <div
              class="thumbnail"
              [class.active]="selectedImageIndex() === i"
              (click)="selectImage(i)"
            >
              <img
                [src]="'https://localhost:7293' + photo.imageName"
                [alt]="product()?.name + ' view ' + (i + 1)"
              />
            </div>
            }
          </div>
          }
        </div>
      </section>

      <!-- Product Information -->
      <section class="info-section">
        <div class="product-info">
          <!-- Title & Price -->
          <div class="title-section">
            <div class="category-tag">{{ product()?.categoryName }}</div>
            <h1 class="product-title">{{ product()?.name }}</h1>
            <div class="price-display">
              @if (hasDiscount()) {
              <span class="original-price"
                >{{ product()?.oldPrice | currency }}</span
              >
              }
              <span class="current-price"
                >{{ product()?.newPrice | currency }}</span
              >
            </div>
            <div class="title-divider"></div>
          </div>

          <!-- Premium Description -->
          <div class="description-section">
            <p class="premium-description">{{ getCraftedDescription() }}</p>
          </div>

          <!-- Dimensions & Materials -->
          <div class="specs-section">
            <h3 class="specs-title">Craftsmanship Details</h3>
            <div class="specs-grid">
              <div class="spec-item">
                <i class="fas fa-ruler-combined"></i>
                <div class="spec-info">
                  <span class="spec-label">Dimensions</span>
                  <span class="spec-value">{{ getDimensions() }}</span>
                </div>
              </div>
              <div class="spec-item">
                <i class="fas fa-tree"></i>
                <div class="spec-info">
                  <span class="spec-label">Material</span>
                  <span class="spec-value">{{ getMaterial() }}</span>
                </div>
              </div>
              <div class="spec-item">
                <i class="fas fa-palette"></i>
                <div class="spec-info">
                  <span class="spec-label">Finish</span>
                  <span class="spec-value">{{ getFinish() }}</span>
                </div>
              </div>
              <div class="spec-item">
                <i class="fas fa-weight-hanging"></i>
                <div class="spec-info">
                  <span class="spec-label">Weight</span>
                  <span class="spec-value">{{ getWeight() }}</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Add to Cart Section -->
          <div class="action-section">
            <div class="quantity-selector">
              <span class="quantity-label">Quantity</span>
              <div class="quantity-controls">
                <button class="quantity-btn" (click)="decreaseQuantity()">
                  -
                </button>
                <span class="quantity-display">{{ quantity() }}</span>
                <button class="quantity-btn" (click)="increaseQuantity()">
                  +
                </button>
              </div>
            </div>

            <button class="add-to-cart-btn" (click)="addToBasket()">
              <span class="btn-text">Add to Cart</span>
              <span class="btn-price">{{ getTotalPrice() | currency }}</span>
              <div class="btn-shine"></div>
            </button>
          </div>

          <!-- Delivery Information -->
          <div class="delivery-section">
            <div class="delivery-card">
              <i class="fas fa-truck"></i>
              <div class="delivery-info">
                <span class="delivery-title">Complimentary Delivery</span>
                <span class="delivery-time"
                  >Est. {{ getDeliveryEstimate() }}</span
                >
              </div>
            </div>
            <div class="delivery-card">
              <i class="fas fa-tools"></i>
              <div class="delivery-info">
                <span class="delivery-title">White Glove Service</span>
                <span class="delivery-time">Assembly & Placement Included</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  }
</div>
